<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Instagram Reels Style Video - instademo</title>
    <link rel="stylesheet" href="/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/site.css?v=pAGv4ietcJNk_EwsQZ5BN9-K4MuNYS2a9wl4Jw-q9D0" />
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap Icons CDN -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <style>
        .Inst-Container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: calc(100vh - 70px); /* Adjust for header height */
            padding: 10px 0;
        }

        .reel-container {
            width: 90%;
            max-width: 400px;
            min-height: auto; /* Cap height at viewport minus header */
            aspect-ratio: 9 / 16;
            background-color: #000;
            position: relative;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
            touch-action: pan-y;
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .reel-overlay {
            position: absolute;
            bottom: 20px;
            left: 20px;
            color: #fff;
            font-family: Arial, sans-serif;
            font-size: 16px;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.7);
            pointer-events: none;
        }

        .actions {
            position: absolute;
            bottom: 5%;
            left: 90%;
            color: aliceblue;
            font-size: 30px;
            margin:0;
            padding:0px;
        }
        .Commentdetails{
            color: white;
            font-size: 14px;
            text-align:center;
            margin:0;
            padding: -2px 0 0 0;
        }

        /* Add extra content to enable scrolling */
        .scrollable-content {
            min-height: 100vh; /* Ensure content exceeds viewport for scrolling */
        }

        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent */
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease;
        }

            .modal-backdrop.show {
                opacity: 1;
                visibility: visible;
            }

        .modal {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%) translateY(100%); /* Start below screen */
            width: 100%;
            max-width: 450px; /* Match reel-container width */
            height: 70vh; /* 70% of viewport height */
            background-color: #fff;
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
            z-index: 1001;
            transition: transform 0.3s ease-in-out; /* Smooth slide */
            overflow-y: auto; /* Scrollable content inside modal */
        }

            .modal.show {
                transform: translateX(-50%) translateY(0); /* Slide up to bottom of screen */
            }

        .modal-content {
            padding: 20px;
            font-family: Arial, sans-serif;
        }

        .modal-close {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #000;
        }
    </style>

</head>
<body class="bg-dark text-white">
    <header b-wz2xxzpd8x>
        <nav b-wz2xxzpd8x class="navbar navbar-expand-sm navbar-toggleable-sm navbar-dark border-bottom box-shadow mb-3">
            <div b-wz2xxzpd8x class="container-fluid">
                <a class="navbar-brand" href="/">instademo</a>
                <button b-wz2xxzpd8x class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <span b-wz2xxzpd8x class="navbar-toggler-icon"></span>
                </button>
                <div b-wz2xxzpd8x class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
                    <ul b-wz2xxzpd8x class="navbar-nav flex-grow-1">
                        <li b-wz2xxzpd8x class="nav-item">
                            <a class="nav-link" href="/">Home</a>
                        </li>
                        <li b-wz2xxzpd8x class="nav-item">
                            <a class="nav-link" href="/Home/Privacy">Privacy</a>
                        </li>
                        <li b-wz2xxzpd8x class="nav-item">
                            <a class="nav-link" href="/videos">Add Reels</a>
                        </li>
                        <li b-wz2xxzpd8x class="nav-item">
                            <a class="nav-link" href="/videos/Reels">Insta</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div b-wz2xxzpd8x class="container-fluid">
        <main b-wz2xxzpd8x role="main" class="w-auto">
            

<div class="scrollable-content">
    <div class="Inst-Container">
        <div class="reel-container">
            <video autoplay loop playsinline>
                <source id="videoSource" src="/Uploads/ae13662e-c42b-4b4e-a87a-48fcddd8f6e2.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="reel-overlay">
                <p>Sample Instagram Reel</p>
            </div>
            <div class="actions">
                <div class="flex-column gap-3">
                    <a href="/videos/Like/7757bf08-8111-49b2-95cc-b80adf96a0c8">
                        <div class="flex-column gap-0 align-items-center align-text-top">
                            <i class="bi bi-hand-thumbs-up"></i>
                            <p class="Commentdetails">1</p>
                        </div>
                    </a>
                    <a href="/videos/Like/7757bf08-8111-49b2-95cc-b80adf96a0c8">
                        <p><i class="bi bi-heart"></i></p>
                    </a>
                    <p class="open-modal"><i class="bi bi-chat" id="chat"></i></p>

                    <p><i class="bi bi-share"></i></p>
                </div>

            </div>
           
        </div>
    </div>
    <!-- Optional: Add dummy content to demonstrate scrolling -->
    <div class="modal-backdrop"></div>
    <div class="modal">
        <button class="modal-close">&times;</button>
        <div class="modal-content">
            <h2>Comments</h2>
            <p>This is a sample modal for comments or other content.</p>
            <p>Add your content here...</p>
            <!-- Example: Comment form -->
            <form method="post" action="/Videos/Comment">
                <input type="hidden" name="videoId" value="7757bf08-8111-49b2-95cc-b80adf96a0c8" />
                <textarea name="comment" placeholder="Add a comment..." class="form-control mb-2"></textarea>
                <button type="submit" class="btn btn-primary">Post</button>
            <input name="__RequestVerificationToken" type="hidden" value="CfDJ8MgYj3lWnz5MiC0w3q2P4te9X37A-_0t9n8_O5sy79Ck_sZaS6GPb7I88VgOdRrPLyHU-RGqtKG6LFqAZcaP7AiZCmn0n997aGjcs1Fh2q7kI_gSQlW0qfyRwzvOUsYHf5Ru887jvA9ROoQgGecDPNg" /></form>
        </div>
    </div>
</div>


        </main>
    </div>

    <script src="/lib/jquery/dist/jquery.min.js"></script>
    <script src="/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/site.js?v=hRQyftXiu1lLX2P9Ly9xa4gHJgLeR1uGN5qegUobtGo"></script>
    
    <script>
        const videoList = [{"id":"abe0785e-31ff-442e-8197-830ae12f8e78","videoName":"Generation pass,but this song hold its own crown \uD83E\uDEF6\uD83E\uDE77........under section 107 of the Copyright Act 1976, allowance is made for \u0027fair use\u0027 for purposes such as criticism, comment, news reporting, teaching, schol.mp4","videoPath":"1056047b-35ca-4b66-98ff-9379484ff256.mp4","likes":3},{"id":"7757bf08-8111-49b2-95cc-b80adf96a0c8","videoName":"#sirivennelaseetharamasastry Gari #lyrics #april1stvidudala Movie #songs Do Follow -- @sirivennelaliveson #telugu #telugubgm #telugusongs #sirivennela #sirivennalaseetharamasastry #spb #spbalasubramanyam #spbala.mp4","videoPath":"ae13662e-c42b-4b4e-a87a-48fcddd8f6e2.mp4","likes":1},{"id":"d5a288d7-8c4a-4f53-bec3-d2cd9f01ef22","videoName":"If she started singing Even god also enjoying   ......under section 107 of the Copyright Act 1976, allowance is made for \u0027fair use\u0027 for purposes such as criticism, comment, news reporting, teaching, scholarship,.mp4","videoPath":"f1cafd72-6802-43bc-b0fa-7c587c201334.mp4","likes":8}];
        const videoTag = document.querySelector('video');
        const source = document.getElementById('videoSource');
        const chat = document.getElementById('chat');
        const modal = document.querySelector('.modal');
        const modalBackdrop = document.querySelector('.modal-backdrop');
        const openModalBtn = document.querySelector('.open-modal');
        const closeModalBtn = document.querySelector('.modal-close');

        function loadRandomVideo() {
            const randomIndex = Math.floor(Math.random() * videoList.length);
            const video = videoList[randomIndex];
            source.src = '/Uploads/' + video.videoPath;
            videoTag.load();
            videoTag.play();

            // Update action links dynamically
            const likeLink1 = document.querySelector('.actions a[href*="Like"]');
            const likeLink2 = document.querySelector('.actions a[href*="Like"] + p + a');
            const likesDisplay = document.querySelector('.actions p.fs-2');
            likeLink1.href = `/videos/Like/${video.id}`;
            likeLink2.href = `/videos/Like/${video.id}`;
            likesDisplay.textContent = video.likes;
        }

        let touchStartY = 0;
        let touchEndY = 0;

        document.addEventListener('touchstart', (e) => {
            touchStartY = e.changedTouches[0].screenY;
        });

        document.addEventListener('touchend', (e) => {
            touchEndY = e.changedTouches[0].screenY;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeDistance = touchStartY - touchEndY;
            const minSwipeDistance = 50;

            if (swipeDistance > minSwipeDistance || swipeDistance < -minSwipeDistance) {
                loadRandomVideo();
            }
        }

        document.addEventListener('wheel', (e) => {
            if (e.deltaY > 50 || e.deltaY < -50) {
                loadRandomVideo();
            }
        });

        videoTag.addEventListener('click', () => {
            if (videoTag.paused) {
                videoTag.play();
            } else {
                videoTag.pause();
            }
        });
        openModalBtn.addEventListener('click', (e) => {
                   e.preventDefault(); // Prevent default anchor behavior
                   modal.classList.add('show');
                   modalBackdrop.classList.add('show');
               });

               // Close modal
               closeModalBtn.addEventListener('click', () => {
                   modal.classList.remove('show');
                   modalBackdrop.classList.remove('show');
               });

               // Close modal on backdrop click
               modalBackdrop.addEventListener('click', () => {
                   modal.classList.remove('show');
                   modalBackdrop.classList.remove('show');
               });

               let touchStartY = 0;
               let touchEndY = 0;

               document.addEventListener('touchstart', (e) => {
                   touchStartY = e.changedTouches[0].screenY;
               });

               document.addEventListener('touchend', (e) => {
                   touchEndY = e.changedTouches[0].screenY;
                   const swipeDistance = touchStartY - touchEndY;
                   if (Math.abs(swipeDistance) > 50 && !modal.classList.contains('show')) {
                       e.preventDefault(); // Prevent page scrolling during swipe
                       handleSwipe();
                   }
               });

               function handleSwipe() {
                   const swipeDistance = touchStartY - touchEndY;
                   const minSwipeDistance = 50;

                   if (swipeDistance > minSwipeDistance || swipeDistance < -minSwipeDistance) {
                       loadRandomVideo();
                   }
               }

               document.addEventListener('wheel', (e) => {
                   if (e.deltaY > 50 || e.deltaY < -50 && !modal.classList.contains('show')) {
                       loadRandomVideo();
                   }
               });

               videoTag.addEventListener('click', () => {
                   if (videoTag.paused) {
                       videoTag.play();
                   } else {
                       videoTag.pause();
                   }
               });

    </script>

</body>
</html>